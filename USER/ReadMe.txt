/**
 ******************************************************************************
 * @name    ROV_Plus
 * @author  LiuYang
 * @version V1.0
 * @date    2019-03-27
 * @brief   水下飞行器V1.0
 ******************************************************************************
 * @attention
 * 本程序是15kg ROV程序，项目基于STM32F429VET6( )使用了FreeRTOS系统
 *  
 *     
 *  
 *                              调试要点 
 *1.网口程序使用ST-link下载后可以执行,上电无法执行,需要在时钟初始化后添加延时 10ms
 *2.W5500 SPI最大速度80M当超过80M的时候会出现MAC 地址设置失败全为0,且无法通信 *  
 * 
 *  
 *  
 *
 *  
 ******************************************************************************
 */
-------------------------------------------------------------------------------------------

◆ 硬件
压传    ：MS5837    (IIC)
温湿度  ：SHT35
惯导模式：JY901
LORA模块：SX1278
电压检测: MCP3221

◆ 软件

1.硬件信息
电流检测(ACS758 KCB-150B)        
电压检测(MCP3221)
云台舵机	
	PWM(mid = 1500)    : 
压传(MS5803)
	SPI4
压传(MS5837)
	IIC1
RBG(LED)
	RED    	:
	GREEN	:
	BLUE	:
指南针(MAG3110)
	IIC3
气压计(HP303B)
	IIC3
惯导模块(R6093U)
	USART7
惯导模块(SABER_C3)
	UART8
WIFI模块
	UART4
电子罗盘
	USART2
CAN通信(ISO1050)
485模块(adm2483)
IIC转PWM(PCA9685)
-------------------------------------------------------------------------------------------
                                  测试列表
-------------------------------------------------------------------------------------------
1.SHT35
2.MCP3221
3.W5500
4.MS5837




-------------------------------------------------------------------------------------------
                                  开发日志
-------------------------------------------------------------------------------------------



<2019-04-17>
1.网口程序使用ST-link下载后可以执行,上电无法执行,需要在时钟初始化后添加延时 10ms
<2019-04-28>
1.刘阳使用cubemx添加led任务。
<2019-04-29>
1.邵玉广添加mavlink发送协议
<2019-04-30>
1.刘阳将混动鱼协议添加到ROV程序中，暂不使用mavlink协议
2.核对推进器方向，完成确定
<2019-05-06>-邵玉广
1.查找任务调度混乱原因，发现I2C,SPI通信是未收到回应就会等待，超时时间25ms，而且优先级设置也存在问题，网络通信设置优先级最高，其他优先级一样，导致任务被阻塞，
更改任务优先级，以及任务延时时间。
<2019-06-12>
1.调整管道模块俯仰横滚及符号，使其坐标系与机体坐标系重合
<2019-06-22>
1.发现imu读取角速度错误，应该为读取三个轴角速度为12个字节，只读去了6个字节，已改正。
<2019-06-26>
1.读取惯导配置，输出频率100hz
<2019-0704>
1.完成15KgROV控制结构及参数更改，添加保护程序，优化代码
2.优化解析惯导数据代码
<20190726>
1.经检查代码发现，计算深度方向速度函数没有返回值，需要添加返回值；返回值后发现定深不正常，经商讨深度方向只控外环，不控速度环，并重新调整外环PID，并测试正常